#SpringBoot读取配置文件顺序：
# bootstrap.yml>bootstrap.yaml>bootstrap.properties>nacos的配置>
#application.yml>application.yaml>application.properties

server:
  port: 8763
  servlet:
    context-path: /order-server

spring:
  application:
    name: order-server

  #如果使用Spring Boot 2.1及更高版本时候，
  #需要增加配置spring.main.allow-bean-definition-overriding=true
  main:
    allow-bean-definition-overriding: true
  mvc:
    servlet:
      load-on-startup: 0
    static-path-pattern: /static/**
  resources:
    static-locations: classpath:/static/

  freemarker:
    template-loader-path: classpath:/templates/
    suffix: .ftl
    charset: UTF-8
    request-context-attribute: request
    settings:
      number_format: 0.##########

  cloud:
    nacos:
      discovery:
        server-addr: localhost:8848
      config:
        server-addr: localhost:8848
        file-extension: yml


  redis:
    database: 0
    host: 127.0.0.1
    port: 6379
    password: 123456
    timeout: 6000ms
    lettuce:
      pool:
        max-active: 8
        max-wait: -1ms
        max-idle: 8
        min-idle: 0

  datasource:
    url: jdbc:mysql://127.0.0.1:3306/test_zs?serverTimezone=Asia/Shanghai&useUnicode=true&characterEncoding=utf-8&useSSL=false
    username: root
    password: Zs11195310
    driver-class-name: com.mysql.cj.jdbc.Driver


  rabbitmq:
    host: localhost
    port: 5672
    username: guest
    password: guest
    virtual-host: /
    ##确认消息已发送到队列(Queue)
    publisher-returns: true
    ###确认消息已发送到交换机(Exchange)
    publisher-confirm-type: correlated
    ##exchange到queue失败,则回调return(需设置mandatory=true,否则不回回调,消息就丢了)
    template:
      mandatory: true
    listener:
      type: simple
      simple:
        #采用手动应答
        acknowledge-mode: manual
        #最小消费者数量
        concurrency: 1
        #最大消费者数量
        max-concurrency: 10
        #重试次数超过上面的设置之后是否丢弃（false不丢弃时需要写相应代码将该消息加入死信队列）
        default-requeue-rejected: false
        #是否支持重试
        retry:
          enabled: true
          #最大重试次数
          max-attempts: 3
          #重试间隔时间(单位毫秒）
          initial-interval: 5000


mybatis-plus:
  mapper-locations: classpath*:mapping/*.xml
  type-aliases-package: com.cloud.common.entity
  type-enums-package: com.cloud.common.enums
  configuration:
    map-underscore-to-camel-case: true
    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl
    auto-mapping-behavior: partial
  global-config:
    db-config:
      id-type: auto

###  xxl-job #############################################################
### \u8C03\u5EA6\u4E2D\u5FC3\u90E8\u7F72\u8DDF\u5730\u5740 [\u9009\u586B]\uFF1A\u5982\u8C03\u5EA6\u4E2D\u5FC3\u96C6\u7FA4\u90E8\u7F72\u5B58\u5728\u591A\u4E2A\u5730\u5740\u5219\u7528\u9017\u53F7\u5206\u9694\u3002
### \u6267\u884C\u5668\u5C06\u4F1A\u4F7F\u7528\u8BE5\u5730\u5740\u8FDB\u884C"\u6267\u884C\u5668\u5FC3\u8DF3\u6CE8\u518C"\u548C"\u4EFB\u52A1\u7ED3\u679C\u56DE\u8C03"\uFF1B\u4E3A\u7A7A\u5219\u5173\u95ED\u81EA\u52A8\u6CE8\u518C\uFF1B
xxl:
  job:
    admin:
      addresses: http://127.0.0.1:8080/xxl-job-admin
    #### \u6267\u884C\u5668\u901A\u8BAFTOKEN [\u9009\u586B]\uFF1A\u975E\u7A7A\u65F6\u542F\u7528\uFF1B
    accessToken:
    executor:
      #### \u6267\u884C\u5668AppName [\u9009\u586B]\uFF1A\u6267\u884C\u5668\u5FC3\u8DF3\u6CE8\u518C\u5206\u7EC4\u4F9D\u636E\uFF1B\u4E3A\u7A7A\u5219\u5173\u95ED\u81EA\u52A8\u6CE8\u518C
      appname: xxl-job-executor-sample
      #### \u6267\u884C\u5668\u6CE8\u518C [\u9009\u586B]\uFF1A\u4F18\u5148\u4F7F\u7528\u8BE5\u914D\u7F6E\u4F5C\u4E3A\u6CE8\u518C\u5730\u5740\uFF0C\u4E3A\u7A7A\u65F6\u4F7F\u7528\u5185\u5D4C\u670D\u52A1 \u201DIP:PORT\u201C \u4F5C\u4E3A\u6CE8\u518C\u5730\u5740\u3002
      #### \u4ECE\u800C\u66F4\u7075\u6D3B\u7684\u652F\u6301\u5BB9\u5668\u7C7B\u578B\u6267\u884C\u5668\u52A8\u6001IP\u548C\u52A8\u6001\u6620\u5C04\u7AEF\u53E3\u95EE\u9898\u3002
      address:
      #### \u6267\u884C\u5668IP [\u9009\u586B]\uFF1A\u9ED8\u8BA4\u4E3A\u7A7A\u8868\u793A\u81EA\u52A8\u83B7\u53D6IP\uFF0C\u591A\u7F51\u5361\u65F6\u53EF\u624B\u52A8\u8BBE\u7F6E\u6307\u5B9AIP\uFF0C
      #### \u8BE5IP\u4E0D\u4F1A\u7ED1\u5B9AHost\u4EC5\u4F5C\u4E3A\u901A\u8BAF\u5B9E\u7528\uFF1B\u5730\u5740\u4FE1\u606F\u7528\u4E8E "\u6267\u884C\u5668\u6CE8\u518C" \u548C "\u8C03\u5EA6\u4E2D\u5FC3\u8BF7\u6C42\u5E76\u89E6\u53D1\u4EFB\u52A1"\uFF1B
      ip:
      #### \u6267\u884C\u5668\u7AEF\u53E3\u53F7 [\u9009\u586B]\uFF1A\u5C0F\u4E8E\u7B49\u4E8E0\u5219\u81EA\u52A8\u83B7\u53D6\uFF1B\u9ED8\u8BA4\u7AEF\u53E3\u4E3A9999\uFF0C
      #### \u5355\u673A\u90E8\u7F72\u591A\u4E2A\u6267\u884C\u5668\u65F6\uFF0C\u6CE8\u610F\u8981\u914D\u7F6E\u4E0D\u540C\u6267\u884C\u5668\u7AEF\u53E3\uFF1B
      port: 9999
      #### \u6267\u884C\u5668\u8FD0\u884C\u65E5\u5FD7\u6587\u4EF6\u5B58\u50A8\u78C1\u76D8\u8DEF\u5F84 [\u9009\u586B] \uFF1A\u9700\u8981\u5BF9\u8BE5\u8DEF\u5F84\u62E5\u6709\u8BFB\u5199\u6743\u9650\uFF1B\u4E3A\u7A7A\u5219\u4F7F\u7528\u9ED8\u8BA4\u8DEF\u5F84\uFF1B
      logpath: /data/applogs/xxl-job/jobhandler
      #### \u6267\u884C\u5668\u65E5\u5FD7\u6587\u4EF6\u4FDD\u5B58\u5929\u6570 [\u9009\u586B] \uFF1A \u8FC7\u671F\u65E5\u5FD7\u81EA\u52A8\u6E05\u7406, \u9650\u5236\u503C\u5927\u4E8E\u7B49\u4E8E3\u65F6\u751F\u6548; \u5426\u5219, \u5982-1, \u5173\u95ED\u81EA\u52A8\u6E05\u7406\u529F\u80FD\uFF1B
      logretentiondays: 30

  ### xxl-sso #############################################################
  sso:
    server: http://127.0.0.1:18080/xxl-sso-server
    logout:
      path: /logout
    excluded:
      paths:
    #### redis   // redis address, like "{ip}"\u3001"{ip}:{port}"\u3001
    #### "{redis/rediss}://xxl-sso:{password}@{ip}:{port:6379}/{db}"\uFF1BMultiple "," separated
    redis:
      address: redis://xxl-sso:123456@127.0.0.1:6379

seata:
  tx-service-group: my_test_tx_group

dubbo:
  application:
    id: ${spring.application.name}
    name: ${spring.application.name}
  scan:
    ##指定 Dubbo 服务实现类的扫描基准包
    base-packages: com.cloud.service
  protocol:
    ##服务暴露的协议配置，其中子属性 name 为协议名称
    name: dubbo
    ## port 为协议端口（ -1 表示自增端口，从 20880 开始）
    port: -1
  registry:
    #服务注册中心配置，其中子属性 address 的值 “spring-cloud://localhost”，说明挂载到 Spring Cloud 注册中心
    address: spring-cloud://localhost
    check: false
  consumer:
    check: false
    timeout: 6000
  cloud:
    ##要消费的服务名，强烈建议配置，多个，分开
    subscribed-services: payment-server

management:
  endpoints:
    web:
      exposure:
        include: "*"
